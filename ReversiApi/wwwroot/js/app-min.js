"use strict";var Spa={init:function(){Spa.Model.init()}};Spa.Data=function(){var e={gametoken:null,env:"production"};return{init:function(n,t){e.env=t,e.gametoken=n},GetPlayers:players,loadgame:function(){return new Promise(function(n,t){$.ajax({url:"https://localhost:44375/api/game/"+e.gametoken,method:"GET",success:function(e){n({name:"prep_board",response:"a"})},error:function(e,n){new Widget(e.responseText,"body","warning").Load(),t({name:"prep_board",response:"as"})}})})}}}(),Spa.Model=function(){var e=function(){Spa.Data.loadGame().then(function(e){"error"==e.response.status&&new Widget(e.response.description,"#widgetPlace","warning").Load()}).then(function(){}).then(function(e){console.log(e)})};return{init:function(){var n=window.location.href.toString().match(/\#(?:access_token)\=([\S\s]*?)\&/)[1];Spa.Data.init(n,"production"),e()},players:e}}(),Spa.Reversi=function(){var e,n=8,t=8,a={id:0,color:"white"},o={id:1,color:"white"},i={id:2,color:"black"},r=function(){document.getElementById("board").innerHTML="";for(var r=document.createElement("table"),d=0;d<t;d++){var l=document.createElement("tr");r.appendChild(l);for(var u=0;u<n;u++){var p=document.createElement("td"),m=document.createElement("span");m.classList.add("stone"),m.classList.add("animate");var f=void 0;switch(e[d][u]){case 0:m.style.visibility="hidden",f=a;break;case 1:f=o;break;case 2:m.classList.add("black"),f=i}l.appendChild(p),p.appendChild(m),e[d][u]=c(m,f),m.classList.toggle("animate"),s(p,d,u)}}document.getElementById("board").appendChild(r)},c=function(e,n){return{state:n,elem:e}},s=function(e,n,t){e.onclick=function(e){Reversi.model.move(n,t)}};return{buildgame:function(n){e=JSON.parse(n),console.log(e),r()}}}(),Spa.Log={init:function(e){console.log(e),$("#loglist").append($("<li>").html(e))}};